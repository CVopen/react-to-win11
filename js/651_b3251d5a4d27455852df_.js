"use strict";(self.webpackChunkreact_to_win11=self.webpackChunkreact_to_win11||[]).push([[651],{3586:(n,e,t)=>{t.d(e,{Z:()=>r});var i=t(7294);function r(n){var e=n.cb,t=n.eventName;(0,i.useEffect)((function(){return window.addEventListener(t,e),function(){return window.removeEventListener(t,e)}}),[e])}},3420:(n,e,t)=>{t.d(e,{s:()=>k});var i,r=t(7294),o=t(9119),a=function(n,e){return Object.defineProperty?Object.defineProperty(n,"raw",{value:e}):n.raw=e,n},d=t(8804).ZP.div(i||(i=a(["\n  position: fixed;\n  top: 100px;\n  left: 100px;\n  border-radius: ",";\n  overflow: hidden;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;\n  color: ",";\n  .shell-body {\n    overflow: auto;\n    height: calc(100% - 30px);\n    background-color: ",";\n    ::-webkit-scrollbar {\n      width: 14px;\n      border-left: 1px solid #fff;\n    }\n    ::-webkit-scrollbar-track {\n      background-color: ",";\n    }\n    ::-webkit-scrollbar-thumb {\n      background-color: ",";\n    }\n  }\n  img {\n    pointer-events: auto;\n  }\n  .shell-header {\n    background: ",";\n    height: 30px;\n    display: flex;\n    justify-content: space-between;\n    .shell-header-status {\n      img {\n        filter: invert(",");\n        padding: 7px 17px;\n        &:hover {\n          background: rgba(136, 136, 136, 0.2);\n        }\n        &:last-child {\n          &:hover {\n            background: rgba(",", 0.8);\n            img {\n              filter: invert(1);\n            }\n          }\n        }\n      }\n    }\n  }\n  .shell-split-screen {\n    position: absolute;\n    top: 35px;\n    right: 30px;\n    width: 244px;\n    height: 0;\n    opacity: 1;\n    overflow: hidden;\n    background: ",";\n    border-radius: ",";\n    box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;\n    display: flex;\n    flex-wrap: wrap;\n    box-sizing: border-box;\n    padding: 0 0 0 10px;\n    transition: all ",";\n    .shell-split-screen-mode {\n      width: 68px;\n      margin: 0 10px 10px 0;\n      height: 52px;\n      display: flex;\n      div {\n        background-color: #d5d5d5;\n        border: 1px solid #aaa;\n        box-sizing: border-box;\n        &:hover {\n          background: ",";\n        }\n      }\n    }\n    .mode-one {\n      div {\n        width: 33px;\n        height: 100%;\n      }\n      div:nth-child(1) {\n        margin-right: 4px;\n      }\n    }\n    .mode-two {\n      div {\n        height: 100%;\n      }\n      div:nth-child(1) {\n        width: 42px;\n        margin-right: 4px;\n      }\n      div:nth-child(2) {\n        flex: 1;\n      }\n    }\n    .mode-three {\n      div {\n        height: 100%;\n        width: 22px;\n        margin-right: 4px;\n      }\n      div:nth-child(3) {\n        margin-right: 0;\n      }\n    }\n    .mode-four {\n      position: relative;\n      div {\n        position: absolute;\n        width: 32px;\n        height: 24px;\n      }\n      div:nth-child(1) {\n        height: 100%;\n      }\n      div:nth-child(2) {\n        right: 0;\n      }\n      div:nth-child(3) {\n        right: 0;\n        bottom: 0;\n      }\n    }\n    .mode-five {\n      position: relative;\n      div {\n        position: absolute;\n        width: 32px;\n        height: 24px;\n      }\n      div:nth-child(2) {\n        right: 0;\n      }\n      div:nth-child(3) {\n        left: 0;\n        bottom: 0;\n      }\n      div:nth-child(4) {\n        right: 0;\n        bottom: 0;\n      }\n    }\n    .mode-six {\n      div {\n        height: 100%;\n        width: 18px;\n        margin-right: 4px;\n      }\n      div:nth-child(2) {\n        width: 30px;\n      }\n      div:nth-child(3) {\n        margin-right: 0;\n      }\n    }\n\n    .block-radius-tl {\n      border-top-left-radius: ",";\n    }\n    .block-radius-tr {\n      border-top-right-radius: ",";\n    }\n    .block-radius-br {\n      border-bottom-right-radius: ",";\n    }\n    .block-radius-bl {\n      border-bottom-left-radius: ",";\n    }\n  }\n"],["\n  position: fixed;\n  top: 100px;\n  left: 100px;\n  border-radius: ",";\n  overflow: hidden;\n  box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;\n  color: ",";\n  .shell-body {\n    overflow: auto;\n    height: calc(100% - 30px);\n    background-color: ",";\n    ::-webkit-scrollbar {\n      width: 14px;\n      border-left: 1px solid #fff;\n    }\n    ::-webkit-scrollbar-track {\n      background-color: ",";\n    }\n    ::-webkit-scrollbar-thumb {\n      background-color: ",";\n    }\n  }\n  img {\n    pointer-events: auto;\n  }\n  .shell-header {\n    background: ",";\n    height: 30px;\n    display: flex;\n    justify-content: space-between;\n    .shell-header-status {\n      img {\n        filter: invert(",");\n        padding: 7px 17px;\n        &:hover {\n          background: rgba(136, 136, 136, 0.2);\n        }\n        &:last-child {\n          &:hover {\n            background: rgba(",", 0.8);\n            img {\n              filter: invert(1);\n            }\n          }\n        }\n      }\n    }\n  }\n  .shell-split-screen {\n    position: absolute;\n    top: 35px;\n    right: 30px;\n    width: 244px;\n    height: 0;\n    opacity: 1;\n    overflow: hidden;\n    background: ",";\n    border-radius: ",";\n    box-shadow: rgba(0, 0, 0, 0.1) 0px 4px 12px;\n    display: flex;\n    flex-wrap: wrap;\n    box-sizing: border-box;\n    padding: 0 0 0 10px;\n    transition: all ",";\n    .shell-split-screen-mode {\n      width: 68px;\n      margin: 0 10px 10px 0;\n      height: 52px;\n      display: flex;\n      div {\n        background-color: #d5d5d5;\n        border: 1px solid #aaa;\n        box-sizing: border-box;\n        &:hover {\n          background: ",";\n        }\n      }\n    }\n    .mode-one {\n      div {\n        width: 33px;\n        height: 100%;\n      }\n      div:nth-child(1) {\n        margin-right: 4px;\n      }\n    }\n    .mode-two {\n      div {\n        height: 100%;\n      }\n      div:nth-child(1) {\n        width: 42px;\n        margin-right: 4px;\n      }\n      div:nth-child(2) {\n        flex: 1;\n      }\n    }\n    .mode-three {\n      div {\n        height: 100%;\n        width: 22px;\n        margin-right: 4px;\n      }\n      div:nth-child(3) {\n        margin-right: 0;\n      }\n    }\n    .mode-four {\n      position: relative;\n      div {\n        position: absolute;\n        width: 32px;\n        height: 24px;\n      }\n      div:nth-child(1) {\n        height: 100%;\n      }\n      div:nth-child(2) {\n        right: 0;\n      }\n      div:nth-child(3) {\n        right: 0;\n        bottom: 0;\n      }\n    }\n    .mode-five {\n      position: relative;\n      div {\n        position: absolute;\n        width: 32px;\n        height: 24px;\n      }\n      div:nth-child(2) {\n        right: 0;\n      }\n      div:nth-child(3) {\n        left: 0;\n        bottom: 0;\n      }\n      div:nth-child(4) {\n        right: 0;\n        bottom: 0;\n      }\n    }\n    .mode-six {\n      div {\n        height: 100%;\n        width: 18px;\n        margin-right: 4px;\n      }\n      div:nth-child(2) {\n        width: 30px;\n      }\n      div:nth-child(3) {\n        margin-right: 0;\n      }\n    }\n\n    .block-radius-tl {\n      border-top-left-radius: ",";\n    }\n    .block-radius-tr {\n      border-top-right-radius: ",";\n    }\n    .block-radius-br {\n      border-bottom-right-radius: ",";\n    }\n    .block-radius-bl {\n      border-bottom-left-radius: ",";\n    }\n  }\n"])),(function(n){return n.theme.borderRadiusLarge}),(function(n){return"dark"===n.theme.name?"#fff":"#000"}),(function(n){return"dark"===n.theme.name?"#000":"#fff"}),(function(n){return"dark"===n.theme.name?"#000":"#fff"}),(function(n){return"dark"===n.theme.name?"#202b36":"#dde7f0"}),(function(n){return n.theme.themeOpacity}),(function(n){return"dark"===n.theme.name?1:0}),(function(n){return"dark"===n.theme.name?"0,255,255":"255,0,0"}),(function(n){return n.theme.themeOpacity}),(function(n){return n.theme.borderRadiusLarge}),(function(n){return n.theme.transitionSlow}),(function(n){return n.theme.themeColor}),(function(n){return n.theme.borderRadiusLarge}),(function(n){return n.theme.borderRadiusLarge}),(function(n){return n.theme.borderRadiusLarge}),(function(n){return n.theme.borderRadiusLarge})),c=t(5199),l=t(249),h=[{width:window.innerWidth/2,height:window.innerHeight-48,x:0,y:0},{width:window.innerWidth/2,height:window.innerHeight-48,x:window.innerWidth/2,y:0},{width:window.innerWidth/3*2,height:window.innerHeight-48,x:0,y:0},{width:window.innerWidth/3,height:window.innerHeight-48,x:window.innerWidth/3*2,y:0},{width:window.innerWidth/3,height:window.innerHeight-48,x:0,y:0},{width:window.innerWidth/3,height:window.innerHeight-48,x:window.innerWidth/3,y:0},{width:window.innerWidth/3,height:window.innerHeight-48,x:window.innerWidth/3*2,y:0},{width:window.innerWidth/2,height:window.innerHeight-48,x:0,y:0},{width:window.innerWidth/2,height:(window.innerHeight-48)/2,x:window.innerWidth/2,y:0},{width:window.innerWidth/2,height:(window.innerHeight-48)/2,x:window.innerWidth/2,y:(window.innerHeight-48)/2},{width:window.innerWidth/2,height:(window.innerHeight-48)/2,x:0,y:0},{width:window.innerWidth/2,height:(window.innerHeight-48)/2,x:window.innerWidth/2,y:0},{width:window.innerWidth/2,height:(window.innerHeight-48)/2,x:0,y:(window.innerHeight-48)/2},{width:window.innerWidth/2,height:(window.innerHeight-48)/2,x:window.innerWidth/2,y:(window.innerHeight-48)/2},{width:window.innerWidth/4,height:window.innerHeight-48,x:0,y:0},{width:window.innerWidth/2,height:window.innerHeight-48,x:window.innerWidth/4,y:0},{width:window.innerWidth/4,height:window.innerHeight-48,x:window.innerWidth/4*3,y:0}],s=(0,r.forwardRef)((function(n,e){var t=(0,r.useRef)(null),i=(0,r.useRef)(null),o=function(){clearTimeout(i.current),i.current=null},a=function(n){o(),t.current&&(t.current.style.opacity="0",i.current=setTimeout((function(){o(),t.current&&(t.current.style.height="0",t.current.style.paddingTop="0")}),n?400:0))},d=function(){o(),i.current=setTimeout(a,1e3)};(0,r.useImperativeHandle)(e,(function(){return{enter:function(){o(),i.current=setTimeout((function(){t.current.style.height="134px",t.current.style.paddingTop="10px",t.current.style.opacity="1",o()}),1e3)},leave:d,hide:a}}));return r.createElement("div",{className:"shell-split-screen",ref:t,onClick:function(e){var t=Array.from(document.getElementsByClassName("mode-block")).findIndex((function(n){return n===e.target}));n.splitSetSize(h[t%17]),a(!0)},onMouseEnter:o,onMouseLeave:d},r.createElement("div",{className:"shell-split-screen-mode mode-one"},r.createElement("div",{className:"mode-block block-radius-tl block-radius-bl"}),r.createElement("div",{className:"mode-block block-radius-tr block-radius-br"})),r.createElement("div",{className:"shell-split-screen-mode mode-two"},r.createElement("div",{className:"mode-block block-radius-tl block-radius-bl"}),r.createElement("div",{className:"mode-block block-radius-tr block-radius-br"})),r.createElement("div",{className:"shell-split-screen-mode mode-three"},r.createElement("div",{className:"mode-block block-radius-tl block-radius-bl"}),r.createElement("div",{className:"mode-block"}),r.createElement("div",{className:"mode-block block-radius-tr block-radius-br"})),r.createElement("div",{className:"shell-split-screen-mode mode-four"},r.createElement("div",{className:"mode-block block-radius-tl block-radius-bl"}),r.createElement("div",{className:"mode-block block-radius-tr"}),r.createElement("div",{className:"mode-block block-radius-br"})),r.createElement("div",{className:"shell-split-screen-mode mode-five"},r.createElement("div",{className:"mode-block block-radius-tl"}),r.createElement("div",{className:"mode-block block-radius-tr"}),r.createElement("div",{className:"mode-block block-radius-bl"}),r.createElement("div",{className:"mode-block block-radius-br"})),r.createElement("div",{className:"shell-split-screen-mode mode-six"},r.createElement("div",{className:"mode-block block-radius-tl block-radius-bl"}),r.createElement("div",{className:"mode-block"}),r.createElement("div",{className:"mode-block block-radius-tr block-radius-br"})))}));const u=(0,r.memo)(s);var m=t(2991),w=t(1082),b=t(5928),g=function(){return g=Object.assign||function(n){for(var e,t=1,i=arguments.length;t<i;t++)for(var r in e=arguments[t])Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n},g.apply(this,arguments)};const p=(0,r.memo)((function(n){var e=n.children,t=n.width,i=n.height,a=n.name,h=n.top,s=void 0===h?100:h,p=n.left,f=void 0===p?100:p,x=(0,r.useRef)({isMove:!1,x:f,y:s,resizePosition:!1}),v=(0,r.useRef)(null),k=(0,r.useRef)(!1),y=(0,r.useRef)(),E=(0,m.CG)((function(n){return n.win})),N=E.activeApp,W=E.activeAppList,H=E.appAnimateTime,C=(0,m.TL)(),z=(0,c.Z)({width:t||360,height:i||300,animate:!1},(function(){R.animate&&setTimeout((function(){k.current?C((0,w.qG)(a)):M(g(g({},R),{animate:!1}))}),H)})),R=z[0],M=z[1],L=(0,r.useRef)({x:0,y:0,w:R.width,h:R.height,full:!1}),P=(0,r.useCallback)((function(){return C((0,w.JU)(a))}),[]),T=(0,r.useCallback)((function(n){if(!R.animate&&"img"!==n.target.tagName.toLowerCase()){P();var e=n.clientX,t=n.clientY,i=(0,b.u$)(v.current),r=i[0],o=i[1];x.current=g(g({},x.current),{isMove:!0,x:e-r,y:t-o})}}),[R.animate]),S=(0,r.useCallback)((function(n){if(x.current.isMove&&n.target.className){var e=n.clientX,t=n.clientY;L.current.x=e-x.current.x,L.current.y=t-x.current.y,v.current.style.transform="translate(".concat(L.current.x,"px, ").concat(L.current.y,"px)")}}),[]),O=(0,r.useCallback)((function(){x.current.isMove=!1}),[]),j=(0,r.useCallback)((function(n){n.stopPropagation(),x.current.resizePosition=!0,L.current.full?(M({width:L.current.w,height:L.current.h,animate:!0}),x.current.resizePosition=!1,v.current.style.transform="translate(".concat(L.current.x,"px, ").concat(L.current.y,"px)")):(M({width:window.innerWidth,height:window.innerHeight-48,animate:!0}),v.current.style.transform=""),L.current.full=!L.current.full,y.current.hide(!0)}),[]),Z=(0,r.useCallback)((function(n,e,t,i){i.width+=R.width,i.height+=R.height,M(g(g({},R),i));var r=(0,b.u$)(v.current),o=r[0],a=r[1];L.current={x:o,y:a,w:i.width,h:i.height,full:!1}}),[R]),_=(0,r.useCallback)((function(n){y.current["mouseenter"===n.type?"enter":"leave"]()}),[]),A=(0,r.useCallback)((function(n){var e=n.width,t=n.height,i=n.x,r=n.y;x.current.resizePosition=!0,M({width:e,height:t,animate:!0}),v.current.style.transform="translate(".concat(i,"px, ").concat(r,"px)"),L.current.full=!1}),[]),q=(0,r.useCallback)((function(n,e,t,i){if(!["right","bottom","bottomRight"].includes(e)){var r=L.current.x-i.width,o=L.current.y-i.height;"bottomLeft"===e?o=L.current.y:"topRight"===e&&(r=L.current.x),v.current.style.transform="translate(".concat(r,"px, ").concat(o,"px)")}}),[]);(0,r.useEffect)((function(){if(!R.animate){var n=W.find((function(n){return n.name===a}));if(null==n?void 0:n.isHide){var e=document.querySelector(".task-middle").querySelector("div[data-name='".concat((0,b.Ck)(a),"']")),t=null==e?void 0:e.getBoundingClientRect().left;M((function(n){var e=t-f-n.width/2,i=window.innerHeight-s-48-n.height/4;return v.current.style.opacity="0",v.current.style.transform="translate(".concat(e,"px, ").concat(i,"px) scale(.5)"),g(g({},n),{animate:!0})}))}else M((function(n){var e=L.current,t=e.x,i=e.y;return x.current.resizePosition&&(t=i=0),v.current.style.opacity="1",v.current.style.transform="translate(".concat(t,"px, ").concat(i,"px) scale(1)"),g(g({},n),{animate:!0})}))}}),[W]);var G=(0,r.useCallback)((function(n){n.stopPropagation(),C((0,w.yv)(a))}),[]),I=(0,r.useCallback)((function(n){n.stopPropagation(),k.current=!0,M((function(n){v.current.style.opacity=".5";var e=L.current,t=e.x,i=e.y;return L.current.full&&(t=i=0),v.current.style.transform="translate(".concat(t,"px, ").concat(i,"px) scale(.9)"),g(g({},n),{animate:!0})}))}),[]);return r.createElement(d,{className:"app-shell","data-name":a,ref:v,style:{transition:R.animate?"all ".concat(H,"ms"):"",top:x.current.resizePosition?0:s,left:x.current.resizePosition?0:f,zIndex:N===a?2:1},onClick:P},r.createElement(o.e,{size:R,style:{transition:R.animate?"all ".concat(H,"ms"):""},minWidth:360,maxWidth:window.innerWidth,minHeight:300,maxHeight:window.innerHeight-48,onResizeStop:Z,onResize:q},r.createElement("div",{className:"shell-header",onMouseDown:T,onMouseMove:S,onMouseLeave:O,onMouseUp:O},r.createElement("div",null,"header"),r.createElement("div",{className:"shell-header-status"},r.createElement(l.Z,{src:"window-minimize-symbolic",size:"small",status:"actions",onClick:G}),r.createElement(l.Z,{src:"window-".concat(L.current.full?"restore":"maximize","-symbolic"),size:"small",status:"actions",onClick:j,onMouseEnter:_,onMouseLeave:_}),r.createElement(l.Z,{src:"window-close-symbolic",size:"small",status:"actions",onClick:I}))),r.createElement("div",{className:"shell-body","data-name":a},e),r.createElement(u,{ref:y,splitSetSize:A})))}));const f=(0,r.memo)((function(n){var e=n.name;return r.createElement(p,{name:e},r.createElement("div",{style:{height:"200%"}},e))}));const x=(0,r.memo)((function(){return r.createElement(p,{name:"Microsoft Edge"},r.createElement("div",{style:{height:"200%"}},"Edge"))}));const v=(0,r.memo)((function(){return r.createElement(p,{name:"网易云"},r.createElement("div",{style:{height:"200%"}},"Music"))}));var k=function(n){var e=(new Date).getTime();switch(n){case"Microsoft Edge":return r.createElement(x,{key:e});case"网易云":return[{src:"wy-music",name:n},r.createElement(v,{key:e})];case"explorer":return r.createElement(f,{name:"CVopen",key:e});case"Github":return window.open("https://github.com/CVopen","_blank"),null;default:return r.createElement(f,{name:n,key:e})}}}}]);